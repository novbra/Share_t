<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新能源汽车舆情分析系统 - 数据采集配置</title>
    <!-- Tailwind CSS v3 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#1e40af',
                        secondary: '#3b82f6',
                        accent: '#0ea5e9',
                        neutral: '#f1f5f9',
                        'neutral-dark': '#334155',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    boxShadow: {
                        'card': '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
                        'card-hover': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .bg-gradient-primary {
                background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }
            .transition-all-300 {
                transition: all 300ms ease-in-out;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="flex flex-col md:flex-row min-h-screen">
        <!-- 侧边栏 -->
        <aside id="sidebar" class="w-full md:w-64 bg-white shadow-lg fixed md:sticky top-0 left-0 h-full overflow-y-auto scrollbar-hide z-20">
            <!-- 侧边栏顶部 -->
            <div class="p-4 border-b">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                        <i class="fa fa-line-chart text-white"></i>
                    </div>
                    <h2 class="text-lg font-semibold text-gray-800">舆情分析系统</h2>
                </div>
            </div>

            <!-- 侧边栏导航 -->
            <nav class="p-4">
                <ul class="space-y-2">
                    <!-- 仪表盘 -->
                    <li>
                        <a href="index.html" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all-300">
                            <i class="fa fa-dashboard"></i>
                            <span>仪表盘</span>
                        </a>
                    </li>

                    <!-- 情感分析 -->
                    <li>
                        <a href="sentiment.html" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all-300">
                            <i class="fa fa-smile-o"></i>
                            <span>情感分析</span>
                        </a>
                    </li>

                    <!-- 主题建模 -->
                    <li>
                        <a href="topic.html" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all-300">
                            <i class="fa fa-tags"></i>
                            <span>主题建模</span>
                        </a>
                    </li>

                    <!-- 报告生成 -->
                    <li>
                        <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all-300">
                            <i class="fa fa-file-text-o"></i>
                            <span>报告生成</span>
                        </a>
                    </li>

                    <!-- 搜索与查询 -->
                    <li>
                        <a href="#" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all-300">
                            <i class="fa fa-search"></i>
                            <span>搜索与查询</span>
                        </a>
                    </li>

                    <!-- 数据采集配置（管理员专属） -->
                    <li class="admin-only">
                        <a href="data-collection.html" class="flex items-center space-x-3 px-3 py-2 rounded-lg bg-primary text-white transition-all-300">
                            <i class="fa fa-cogs"></i>
                            <span>数据采集配置</span>
                        </a>
                    </li>

                    <!-- 用户管理（管理员专属） -->
                    <li class="admin-only">
                        <a href="user-management.html" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all-300">
                            <i class="fa fa-users"></i>
                            <span>用户管理</span>
                        </a>
                    </li>

                    <!-- 系统设置 -->
                    <li>
                        <a href="settings.html" class="flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-primary hover:text-white transition-all-300">
                            <i class="fa fa-gear"></i>
                            <span>系统设置</span>
                        </a>
                    </li>
                </ul>

                <!-- 数据源状态 -->
                <div class="mt-8 p-4 bg-gray-50 rounded-lg">
                    <h3 class="text-sm font-semibold text-gray-700 mb-3">数据源状态</h3>
                    <ul class="space-y-2">
                        <li class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">微博API</span>
                            <span class="w-2 h-2 rounded-full bg-green-500"></span>
                        </li>
                        <li class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">微信公众平台</span>
                            <span class="w-2 h-2 rounded-full bg-green-500"></span>
                        </li>
                        <li class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">新闻网站</span>
                            <span class="w-2 h-2 rounded-full bg-yellow-500"></span>
                        </li>
                        <li class="flex items-center justify-between">
                            <span class="text-sm text-gray-600">论坛社区</span>
                            <span class="w-2 h-2 rounded-full bg-green-500"></span>
                        </li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- 主内容区域 -->
        <main class="flex-1 md:ml-64">
            <!-- 顶部导航栏 -->
            <header class="bg-white shadow-md fixed top-0 left-0 right-0 z-10">
                <div class="flex items-center justify-between p-4">
                    <!-- 移动端菜单按钮 -->
                    <button id="sidebarToggle" class="md:hidden p-2 rounded-lg text-gray-700 hover:bg-gray-100">
                        <i class="fa fa-bars"></i>
                    </button>

                    <!-- 页面标题 -->
                    <h1 class="text-xl font-semibold text-gray-800">数据采集配置</h1>

                    <!-- 用户菜单 -->
                    <div class="relative">
                        <button id="userMenuButton" class="flex items-center space-x-2 p-2 rounded-lg text-gray-700 hover:bg-gray-100">
                            <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center">
                                <i class="fa fa-user text-gray-700"></i>
                            </div>
                            <span class="hidden md:inline">管理员</span>
                            <i class="fa fa-chevron-down text-xs"></i>
                        </button>
                        <!-- 用户菜单下拉 -->
                        <div id="userMenu" class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg hidden">
                            <ul class="py-2">
                                <li>
                                    <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                        <i class="fa fa-user mr-2"></i>个人资料
                                    </a>
                                </li>
                                <li>
                                    <a href="settings.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                        <i class="fa fa-gear mr-2"></i>设置
                                    </a>
                                </li>
                                <li>
                                    <a href="login.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                        <i class="fa fa-sign-out mr-2"></i>退出登录
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </header>

            <!-- 主要内容 -->
            <div class="p-4 pt-20">
                <!-- 面包屑导航 -->
                <nav class="flex items-center space-x-2 text-sm mb-6">
                    <a href="index.html" class="text-gray-600 hover:text-primary">首页</a>
                    <i class="fa fa-chevron-right text-xs text-gray-400"></i>
                    <span class="text-gray-800">数据采集配置</span>
                </nav>

                <!-- 保存按钮 -->
                <div class="flex justify-end mb-6">
                    <button id="saveSettingsBtn" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-all-300 flex items-center space-x-2">
                        <i class="fa fa-save"></i>
                        <span>保存配置</span>
                    </button>
                </div>

                <!-- 配置卡片区域 -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- 数据源配置 -->
                    <div class="lg:col-span-3 bg-white rounded-lg shadow-card p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-lg font-semibold text-gray-800 flex items-center">
                                <i class="fa fa-database mr-2 text-primary"></i>
                                数据源配置
                            </h2>
                            <button id="testAllSourcesBtn" class="px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-all-300 text-sm">
                                <i class="fa fa-play-circle mr-1"></i>测试所有数据源
                            </button>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- 微博API -->
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-center mb-2">
                                    <h3 class="font-medium text-gray-800">微博API</h3>
                                    <div class="flex items-center space-x-2">
                                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                                        <span class="text-xs text-gray-600">已连接</span>
                                    </div>
                                </div>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">API密钥</label>
                                        <input type="password" class="w-full px-3 py-2 border border-gray-300 rounded-lg" value="********************************" disabled>
                                    </div>
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">采集类型</label>
                                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                            <option>热门话题</option>
                                            <option>用户发布</option>
                                            <option>评论</option>
                                            <option>转发</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="flex items-center">
                                            <input type="checkbox" class="form-checkbox h-4 w-4 text-primary" checked>
                                            <span class="ml-2 text-sm text-gray-700">启用此数据源</span>
                                        </label>
                                    </div>
                                    <button class="w-full px-3 py-1 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-all-300 text-sm">
                                        <i class="fa fa-refresh mr-1"></i>重新连接
                                    </button>
                                </div>
                            </div>

                            <!-- 微信公众平台 -->
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-center mb-2">
                                    <h3 class="font-medium text-gray-800">微信公众平台</h3>
                                    <div class="flex items-center space-x-2">
                                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                                        <span class="text-xs text-gray-600">已连接</span>
                                    </div>
                                </div>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">AppID</label>
                                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg" value="wx1234567890abcdef" disabled>
                                    </div>
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">采集类型</label>
                                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                            <option>公众号文章</option>
                                            <option>评论</option>
                                            <option>赞赏</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="flex items-center">
                                            <input type="checkbox" class="form-checkbox h-4 w-4 text-primary" checked>
                                            <span class="ml-2 text-sm text-gray-700">启用此数据源</span>
                                        </label>
                                    </div>
                                    <button class="w-full px-3 py-1 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-all-300 text-sm">
                                        <i class="fa fa-refresh mr-1"></i>重新连接
                                    </button>
                                </div>
                            </div>

                            <!-- 新闻网站 -->
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-center mb-2">
                                    <h3 class="font-medium text-gray-800">新闻网站</h3>
                                    <div class="flex items-center space-x-2">
                                        <span class="w-2 h-2 rounded-full bg-yellow-500"></span>
                                        <span class="text-xs text-gray-600">部分可用</span>
                                    </div>
                                </div>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">目标网站</label>
                                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                            <option>新浪新闻</option>
                                            <option>网易新闻</option>
                                            <option>腾讯新闻</option>
                                            <option>凤凰网</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">采集频率</label>
                                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                            <option>每小时</option>
                                            <option>每2小时</option>
                                            <option>每天</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="flex items-center">
                                            <input type="checkbox" class="form-checkbox h-4 w-4 text-primary" checked>
                                            <span class="ml-2 text-sm text-gray-700">启用此数据源</span>
                                        </label>
                                    </div>
                                    <button class="w-full px-3 py-1 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-all-300 text-sm">
                                        <i class="fa fa-refresh mr-1"></i>检测状态
                                    </button>
                                </div>
                            </div>

                            <!-- 论坛社区 -->
                            <div class="border border-gray-200 rounded-lg p-4">
                                <div class="flex justify-between items-center mb-2">
                                    <h3 class="font-medium text-gray-800">论坛社区</h3>
                                    <div class="flex items-center space-x-2">
                                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                                        <span class="text-xs text-gray-600">已连接</span>
                                    </div>
                                </div>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">目标论坛</label>
                                        <select class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                            <option>汽车之家</option>
                                            <option>爱卡汽车</option>
                                            <option>懂车帝</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm text-gray-600 mb-1">采集板块</label>
                                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="输入要采集的板块ID">
                                    </div>
                                    <div>
                                        <label class="flex items-center">
                                            <input type="checkbox" class="form-checkbox h-4 w-4 text-primary" checked>
                                            <span class="ml-2 text-sm text-gray-700">启用此数据源</span>
                                        </label>
                                    </div>
                                    <button class="w-full px-3 py-1 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-all-300 text-sm">
                                        <i class="fa fa-refresh mr-1"></i>检测状态
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 采集频率设置 -->
                    <div class="bg-white rounded-lg shadow-card p-6">
                        <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <i class="fa fa-clock-o mr-2 text-primary"></i>
                            采集频率设置
                        </h2>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">常规采集频率</label>
                                <select id="regularFrequency" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    <option value="5">每5分钟</option>
                                    <option value="15">每15分钟</option>
                                    <option value="30" selected>每30分钟</option>
                                    <option value="60">每小时</option>
                                    <option value="120">每2小时</option>
                                    <option value="360">每6小时</option>
                                    <option value="720">每12小时</option>
                                    <option value="1440">每天</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">热门话题采集频率</label>
                                <select id="hotTopicsFrequency" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    <option value="1">每分钟</option>
                                    <option value="5" selected>每5分钟</option>
                                    <option value="10">每10分钟</option>
                                    <option value="15">每15分钟</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">最大并发数</label>
                                <input type="number" id="maxConcurrency" min="1" max="20" value="5" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                            </div>
                            
                            <div>
                                <label class="flex items-center">
                                    <input type="checkbox" id="enableScheduled" class="form-checkbox h-4 w-4 text-primary" checked>
                                    <span class="ml-2 text-sm text-gray-700">启用定时采集</span>
                                </label>
                            </div>
                            
                            <div id="scheduledTimeDiv" class="space-y-2">
                                <label class="block text-sm font-medium text-gray-700">定时采集时间</label>
                                <div class="grid grid-cols-2 gap-2">
                                    <select id="scheduledHour" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                        ${Array.from({length: 24}, (_, i) => `<option value="${i}">${i.toString().padStart(2, '0')}:00</option>`).join('')}
                                    </select>
                                    <select id="scheduledMinute" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                        ${Array.from({length: 60}, (_, i) => `<option value="${i}">:${i.toString().padStart(2, '0')}</option>`).join('')}
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 关键词管理 -->
                    <div class="bg-white rounded-lg shadow-card p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-lg font-semibold text-gray-800 flex items-center">
                                <i class="fa fa-keyboard-o mr-2 text-primary"></i>
                                关键词管理
                            </h2>
                            <div class="flex space-x-2">
                                <button id="importKeywordsBtn" class="px-3 py-1 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-all-300 text-sm">
                                    <i class="fa fa-upload mr-1"></i>导入
                                </button>
                                <button id="exportKeywordsBtn" class="px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-all-300 text-sm">
                                    <i class="fa fa-download mr-1"></i>导出
                                </button>
                            </div>
                        </div>
                        
                        <div class="space-y-3">
                            <div class="flex space-x-2">
                                <input type="text" id="newKeyword" class="flex-1 px-3 py-2 border border-gray-300 rounded-lg" placeholder="输入新关键词">
                                <button id="addKeywordBtn" class="px-3 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-all-300">
                                    <i class="fa fa-plus"></i>
                                </button>
                            </div>
                            
                            <div class="border border-gray-200 rounded-lg p-3 h-64 overflow-y-auto">
                                <ul id="keywordsList" class="space-y-2">
                                    <li class="flex justify-between items-center bg-gray-50 p-2 rounded-lg">
                                        <span class="text-sm">新能源汽车</span>
                                        <button class="text-red-500 hover:text-red-700 delete-keyword">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </li>
                                    <li class="flex justify-between items-center bg-gray-50 p-2 rounded-lg">
                                        <span class="text-sm">电动车</span>
                                        <button class="text-red-500 hover:text-red-700 delete-keyword">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </li>
                                    <li class="flex justify-between items-center bg-gray-50 p-2 rounded-lg">
                                        <span class="text-sm">纯电动汽车</span>
                                        <button class="text-red-500 hover:text-red-700 delete-keyword">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </li>
                                    <li class="flex justify-between items-center bg-gray-50 p-2 rounded-lg">
                                        <span class="text-sm">比亚迪</span>
                                        <button class="text-red-500 hover:text-red-700 delete-keyword">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </li>
                                    <li class="flex justify-between items-center bg-gray-50 p-2 rounded-lg">
                                        <span class="text-sm">特斯拉</span>
                                        <button class="text-red-500 hover:text-red-700 delete-keyword">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </li>
                                    <li class="flex justify-between items-center bg-gray-50 p-2 rounded-lg">
                                        <span class="text-sm">蔚来</span>
                                        <button class="text-red-500 hover:text-red-700 delete-keyword">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </li>
                                    <li class="flex justify-between items-center bg-gray-50 p-2 rounded-lg">
                                        <span class="text-sm">理想汽车</span>
                                        <button class="text-red-500 hover:text-red-700 delete-keyword">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </li>
                                    <li class="flex justify-between items-center bg-gray-50 p-2 rounded-lg">
                                        <span class="text-sm">小鹏汽车</span>
                                        <button class="text-red-500 hover:text-red-700 delete-keyword">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </li>
                                    <li class="flex justify-between items-center bg-gray-50 p-2 rounded-lg">
                                        <span class="text-sm">充电设施</span>
                                        <button class="text-red-500 hover:text-red-700 delete-keyword">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </li>
                                    <li class="flex justify-between items-center bg-gray-50 p-2 rounded-lg">
                                        <span class="text-sm">续航里程</span>
                                        <button class="text-red-500 hover:text-red-700 delete-keyword">
                                            <i class="fa fa-times"></i>
                                        </button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 采集规则设置 -->
                    <div class="bg-white rounded-lg shadow-card p-6">
                        <h2 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                            <i class="fa fa-list-alt mr-2 text-primary"></i>
                            采集规则设置
                        </h2>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="flex items-center">
                                    <input type="checkbox" id="enableKeywordFilter" class="form-checkbox h-4 w-4 text-primary" checked>
                                    <span class="ml-2 text-sm text-gray-700">启用关键词过滤</span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="flex items-center">
                                    <input type="checkbox" id="enableDuplicateCheck" class="form-checkbox h-4 w-4 text-primary" checked>
                                    <span class="ml-2 text-sm text-gray-700">启用重复内容检测</span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="flex items-center">
                                    <input type="checkbox" id="collectComments" class="form-checkbox h-4 w-4 text-primary" checked>
                                    <span class="ml-2 text-sm text-gray-700">采集评论内容</span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="flex items-center">
                                    <input type="checkbox" id="collectReposts" class="form-checkbox h-4 w-4 text-primary">
                                    <span class="ml-2 text-sm text-gray-700">采集转发内容</span>
                                </label>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">内容长度限制</label>
                                <select id="contentLengthLimit" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    <option value="0">无限制</option>
                                    <option value="50">至少50字符</option>
                                    <option value="100">至少100字符</option>
                                    <option value="200">至少200字符</option>
                                    <option value="500">至少500字符</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">数据保存期限</label>
                                <select id="dataRetention" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                                    <option value="7">7天</option>
                                    <option value="30" selected>30天</option>
                                    <option value="90">90天</option>
                                    <option value="180">180天</option>
                                    <option value="365">1年</option>
                                    <option value="-1">永久保存</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- JavaScript -->
    <script>
        // 侧边栏切换
        document.getElementById('sidebarToggle').addEventListener('click', function() {
            document.getElementById('sidebar').classList.toggle('hidden');
        });

        // 用户菜单切换
        document.getElementById('userMenuButton').addEventListener('click', function() {
            document.getElementById('userMenu').classList.toggle('hidden');
        });

        // 点击外部关闭用户菜单
        document.addEventListener('click', function(e) {
            const userMenuButton = document.getElementById('userMenuButton');
            const userMenu = document.getElementById('userMenu');
            if (!userMenuButton.contains(e.target) && !userMenu.contains(e.target)) {
                userMenu.classList.add('hidden');
            }
        });

        // 定时采集开关
        document.getElementById('enableScheduled').addEventListener('change', function() {
            document.getElementById('scheduledTimeDiv').classList.toggle('opacity-50', !this.checked);
            document.getElementById('scheduledTimeDiv').classList.toggle('pointer-events-none', !this.checked);
        });

        // 关键词管理
        const keywordsList = document.getElementById('keywordsList');
        const newKeywordInput = document.getElementById('newKeyword');
        const addKeywordBtn = document.getElementById('addKeywordBtn');
        
        // 添加关键词
        function addKeyword(keyword) {
            if (!keyword || keyword.trim() === '') return;
            
            const li = document.createElement('li');
            li.className = 'flex justify-between items-center bg-gray-50 p-2 rounded-lg';
            li.innerHTML = `
                <span class="text-sm">${keyword}</span>
                <button class="text-red-500 hover:text-red-700 delete-keyword">
                    <i class="fa fa-times"></i>
                </button>
            `;
            
            keywordsList.appendChild(li);
            newKeywordInput.value = '';
            
            // 绑定删除事件
            li.querySelector('.delete-keyword').addEventListener('click', function() {
                li.remove();
            });
        }
        
        addKeywordBtn.addEventListener('click', function() {
            addKeyword(newKeywordInput.value);
        });
        
        newKeywordInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addKeyword(this.value);
            }
        });
        
        // 初始绑定删除关键词事件
        document.querySelectorAll('.delete-keyword').forEach(button => {
            button.addEventListener('click', function() {
                this.closest('li').remove();
            });
        });
        
        // 导入关键词
        document.getElementById('importKeywordsBtn').addEventListener('click', function() {
            alert('导入关键词功能将在后续版本实现');
        });
        
        // 导出关键词
        document.getElementById('exportKeywordsBtn').addEventListener('click', function() {
            const keywords = Array.from(document.querySelectorAll('#keywordsList li span')).map(span => span.textContent);
            const content = keywords.join('\n');
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'keywords.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });
        
        // 测试所有数据源
        document.getElementById('testAllSourcesBtn').addEventListener('click', function() {
            this.innerHTML = '<i class="fa fa-spinner fa-spin mr-1"></i>测试中...';
            this.disabled = true;
            
            setTimeout(() => {
                this.innerHTML = '<i class="fa fa-check mr-1"></i>测试完成';
                this.className = 'px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-all-300 text-sm';
                
                setTimeout(() => {
                    this.innerHTML = '<i class="fa fa-play-circle mr-1"></i>测试所有数据源';
                    this.className = 'px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-all-300 text-sm';
                    this.disabled = false;
                }, 2000);
            }, 2000);
        });
        
        // 保存配置
        document.getElementById('saveSettingsBtn').addEventListener('click', function() {
            const settings = {
                regularFrequency: document.getElementById('regularFrequency').value,
                hotTopicsFrequency: document.getElementById('hotTopicsFrequency').value,
                maxConcurrency: document.getElementById('maxConcurrency').value,
                enableScheduled: document.getElementById('enableScheduled').checked,
                scheduledHour: document.getElementById('scheduledHour').value,
                scheduledMinute: document.getElementById('scheduledMinute').value,
                enableKeywordFilter: document.getElementById('enableKeywordFilter').checked,
                enableDuplicateCheck: document.getElementById('enableDuplicateCheck').checked,
                collectComments: document.getElementById('collectComments').checked,
                collectReposts: document.getElementById('collectReposts').checked,
                contentLengthLimit: document.getElementById('contentLengthLimit').value,
                dataRetention: document.getElementById('dataRetention').value,
                keywords: Array.from(document.querySelectorAll('#keywordsList li span')).map(span => span.textContent)
            };
            
            console.log('保存的配置:', settings);
            
            // 显示保存成功提示
            this.innerHTML = '<i class="fa fa-check mr-1"></i>配置已保存';
            this.className = 'px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-all-300 flex items-center space-x-2';
            
            setTimeout(() => {
                this.innerHTML = '<i class="fa fa-save mr-1"></i>保存配置';
                this.className = 'px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-all-300 flex items-center space-x-2';
            }, 2000);
        });
    </script>
</body>
</html>